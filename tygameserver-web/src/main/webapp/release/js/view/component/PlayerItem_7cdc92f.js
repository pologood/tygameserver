puremvc.define({name:"drawsomething.view.component.PlayerItem",constructor:function(){this.el=null;var t=$("#playerItems-template").html();this.template=Handlebars.compile(t),this.isReady=!1}},{getName:function(){},getElement:function(){},startCountDown:function(){function t(){i--,e.el.find(".second").html(i),i>0?setTimeout(t,1e3):e.isReady||(e.el.trigger("countDown"),e.el.find(".countDown").hide())}this.el.find(".countDown").show();var e=this,i=10;t()},update:function(t,e,i){var s=this;this.selfData=t,this.roomInfo=e,this.avatarId=t.avatarId,this.userAvatarId=i;var n=this.template(t);this.el=$(n),this.updateState(),this.el.find(".btn-ready").click(function(){s.el.find(".countDown").hide(),s.isReady=!0})},updateState:function(){this.userAvatarId==this.selfData.avatarId?"READY"==this.selfData.state?(this.el.find(".btn-already").css({display:"block"}),this.isReady=!0):this.el.find(".btn-ready").css({display:"block"}):"READY"==this.selfData.state?(this.el.find(".btn-already").css({display:"block"}),this.isReady=!0):this.el.find(".btn-unready").css({display:"block"}),this.userAvatarId!=this.roomInfo.ownerId&&this.el.find(".closeBtn").hide(),this.selfData.avatarId==this.roomInfo.ownerId&&(this.el.find(".ownerIcon").css({display:"block"}),this.el.find(".closeBtn").hide())},ready:function(){this.el.find(".btn-unready").css({display:"none"}),this.el.find(".btn-ready").css({display:"none"}),this.el.find(".btn-already").css({display:"block"}),this.isReady=!0},remove:function(){this.el.find(".btn-ready").unbind("click"),this.el.remove()}},{NAME:"PlayerItem"});